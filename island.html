<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Island AR Model</title>
<script>
function isIOS() {
    return /iPhone|iPad|iPod/i.test(navigator.userAgent);
}
function isAndroid() {
    return /Android/i.test(navigator.userAgent);
}
function openAR(model) {
    const iosUrl = model + '.usdz';
    const androidUrl = window.location.origin + '/' + model + '.glb';
    if (isIOS()) {
        const a = document.createElement("a");
        a.setAttribute("rel", "ar");
        a.setAttribute("href", iosUrl);
        document.body.appendChild(a);
        a.click();
        a.remove();
    } else if (isAndroid()) {
        const fileUrl = encodeURIComponent(androidUrl);
        const fallback = encodeURIComponent(window.location.href);
        window.location.href =
          `intent://arvr.google.com/scene-viewer/1.0?file=${fileUrl}&mode=ar_preferred` +
          `#Intent;scheme=https;package=com.google.android.googlequicksearchbox;` +
          `action=android.intent.action.VIEW;S.browser_fallback_url=${fallback};end;`;
    } else {
        alert("AR viewing is only supported on iOS and Android devices.");
    }
}
window.onload = function() {
    openAR('Island');
};
</script>
</head>
<body>
<p>Launching Island AR model...</p>
<button onclick="openAR('Island')">Launch Island AR manually</button>
</body>
</html>
