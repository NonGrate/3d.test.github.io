<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AR Model Loader</title>
<script>
// ---- DEVICE DETECTION ----
function isIOS() {
    return /iPhone|iPad|iPod/i.test(navigator.userAgent);
}

function isAndroid() {
    return /Android/i.test(navigator.userAgent);
}

function openAR(model) {
    const iosUrl = model + '.usdz';
    const androidUrl = window.location.origin + '/' + model + '.glb'; // full https URL
    if (isIOS()) {
        const a = document.createElement("a");
        a.setAttribute("rel", "ar");
        a.setAttribute("href", iosUrl);
        document.body.appendChild(a);
        a.click();
        a.remove();
    } else if (isAndroid()) {
        const fileUrl = encodeURIComponent(androidUrl); // must be FULL https URL to the .glb
        const fallback = encodeURIComponent(window.location.href); // or a dedicated fallback page
        window.location.href =
          `intent://arvr.google.com/scene-viewer/1.0?file=${fileUrl}&mode=ar_preferred` +
          `#Intent;scheme=https;package=com.google.android.googlequicksearchbox;` +
          `action=android.intent.action.VIEW;S.browser_fallback_url=${fallback};end;`;
    } else {
        alert("AR viewing is only supported on iOS and Android devices.");
    }
}
</script>
</head>
<body>
<button onclick="openAR('Shiba')">shiba</button>
<button onclick="openAR('Island')">island</button>
</body>
</html>
